(function(){"use strict";var e={8666:function(e,t,n){var r=n(3751),o=n(641);const s={id:"app"};function i(e,t,n,r,i,a){const u=(0,o.g2)("QuestionAnswer");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(u)])}const a=["innerHTML"];function u(e,t,n,r,s,i){const u=(0,o.g2)("el-input"),c=(0,o.g2)("el-button"),l=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(u,{type:"textarea",modelValue:s.settings,"onUpdate:modelValue":t[0]||(t[0]=e=>s.settings=e),placeholder:"请输入设定",rows:"4"},null,8,["modelValue"]),(0,o.bF)(u,{type:"textarea",modelValue:s.question,"onUpdate:modelValue":t[1]||(t[1]=e=>s.question=e),placeholder:"请输入您的问题",rows:"4"},null,8,["modelValue"]),(0,o.bF)(c,{type:"primary",onClick:i.fetchAnswer},{default:(0,o.k6)((()=>[(0,o.eW)("提交")])),_:1},8,["onClick"]),s.answer?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"answer-card"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",{innerHTML:i.formattedAnswer},null,8,a)])),_:1})):(0,o.Q3)("",!0)])}n(4114);var c=n(4335),l=n(23),p=n(9878),f=(n(5827),{data(){return{settings:"you are a helpful assistant.",question:"",answer:"",messageHistory:[]}},computed:{formattedAnswer(){return(0,l.xI)(this.answer,{highlight:function(e,t){const n=p.A.getLanguage(t)?t:"plaintext";return p.A.highlight(e,{language:n}).value}})}},methods:{async fetchAnswer(){this.answer="正在获取回答...";const e=[{role:"system",content:this.settings},...this.getLastThreeMessages(),{role:"user",content:this.question}];try{const t=await c.A.post("https://api.bianxieai.com/v1/chat/completions",{model:"claude-3-opus-20240229",messages:e},{headers:{Accept:"application/json",Authorization:"Bearer sk-1FfMklIU4FnDvYbS7266011aC38b4452A703481f911d9fE6","Content-Type":"application/json"}});this.answer=t.data.choices[0].message.content,this.messageHistory.push({role:"user",content:this.question},{role:"assistant",content:this.answer}),this.messageHistory.length>6&&this.messageHistory.splice(0,this.messageHistory.length-6),this.question=""}catch(t){console.error("Error:",t),this.answer="获取回答时出错"}},getLastThreeMessages(){return this.messageHistory.slice(-6)}}}),h=n(6262);const d=(0,h.A)(f,[["render",u],["__scopeId","data-v-637361d8"]]);var g=d,m={name:"App",components:{QuestionAnswer:g}};const v=(0,h.A)(m,[["render",i]]);var y=v,b=n(5935);n(4188);const w=(0,r.Ef)(y);w.use(b.A),w.mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],o=e[l][1],s=e[l][2];for(var a=!0,u=0;u<r.length;u++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(a=!1,s<i&&(i=s));if(a){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,o,s]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,i=r[0],a=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var l=u(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(8666)}));r=n.O(r)})();
//# sourceMappingURL=app.cc864fd9.js.map